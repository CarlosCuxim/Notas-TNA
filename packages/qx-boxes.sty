\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{packages/qx-boxes}



% ==============================================================================
% ---------------------- PAQUETE CREADO POR CARLOS CUXIM -----------------------
%
% Este paquete contiene los macros relacionados con las cajas de ejercicios.
% Contiene las definiciones de los entornos {exercises}, {exercises*}, {lema} y
% {definition}.
%
% ==============================================================================



% PAQUETES REQUERIDOS ----------------------------------------------------------

\RequirePackage{amsmath}
\RequirePackage{amsthm}


\RequirePackage{tcolorbox}
  \tcbuselibrary{breakable}
  \tcbuselibrary{skins}



% COLORES ----------------------------------------------------------------------

% Colores de las cajas
\colorlet{qx-box-frame}{blue!50!black}
\colorlet{qx-box-back}{blue!5}


% AUXILIAR CONTADORES ----------------------------------------------------------
\newcommand{\resetrefcounter}[1]{\addtocounter{#1}{-1}\refstepcounter{#1}}


% ENTORNOS {lema} Y {lema*} ----------------------------------------------------

\newtheorem{theorem}{Teorema}[section]
\newtheorem{proposition}[theorem]{Proposici贸n}
\newtheorem{lemma}[theorem]{Lema}
\newtheorem{corollary}[theorem]{Corolario}

\theoremstyle{definition}
\newtheorem{example}[theorem]{Ejemplo}

% CAJAS {definition} -------------------------------------------

% Contador
\newcounter{qxDefinition}

% Definici贸n de la caja
\newtcolorbox{definition}[1][\relax]{
  title        = {\stepcounter{theorem}Definici贸n \thetheorem\ifx#1\relax.\else\space{\normalfont(#1)}.\fi},
  before upper = {\resetrefcounter{theorem}},
  coltitle     = black,
  fonttitle    = \bfseries,
  colback      = white,
  colframe     = qx-box-frame,
  parbox       = false,
  parbox       = false,
  top          = 1.5mm+\tcboxedtitleheight/4,
  before skip  = \bigskipamount,
  after skip   = \bigskipamount,
  sharp corners,
  breakable,
  enhanced,
  attach boxed title to top left = {yshift = -\tcboxedtitleheight/2, xshift = 4mm-0.5mm},
  boxed title style = {
                          colback=white,
                          left=0.5mm,right=0.5mm,
                          boxsep=1mm,
                          frame empty
                        }
}


% CAJAS {Example} -------------------------------------------

\tcolorboxenvironment{example}{
  colback = white,
  frame hidden,
  top = 0mm,
  bottom = 0mm,
  boxsep = 0mm,
  enhanced,
  borderline west={2mm}{0pt}{qx-box-frame},
  parbox = false,
  before skip = \medskipamount,
  after skip = \medskipamount,
  breakable
}





% ENTORNO {answer} -------------------------------------------------------------

\newenvironment{answer}[1][Soluci贸n]{\begin{proof}[#1]\let\qed\relax}{\end{proof}}



\endinput